# 第6章: トランザクション
## 標準的なトランザクションの構成方法
### トランザクションの構成
送金者の情報をインプット、送金先の情報をアウトプットに含んでいる
- version
- tx_in_count: インプットのリストに含まれるアイテムの数
- tx_in: インプットのリスト
- tx_out_count: アウトプットのリストに含まれるアイテムの数
- tx_out: アウトプットのリスト
- locktime: ブロックに取り込まれる時間を制御

### アウトプットの構成
トランザクションのアウトプットはほとんどの場合、未使用状態であるUTXO  
ScriptPubkeyが含まれている

### インプットの構成(非コインベース)
使用するUTXOヘの参照情報とUTXOのロック状態を解除するスクリプトであるScriptSigを含んでいる

### ロックタイム
locktimeに値を設定することにより設定した時刻が過ぎるまでそのトランザクションをブロックに入れられないように制限することができる  

### スクリプト言語
ビットコインではスクリプト言語を利用して電子署名と署名の検証を行なっている

## 電子署名
電子署名はUTXOの持ち主であることを証明するためのもの  

### 署名の流れ
- signature hashの作成: トランザクションの一部をSHA256ダブルハッシュして生成
- ECDSA署名によるsignatureの生成: signature hashと秘密鍵を引数にECDSA署名器を入れる
- ScriptSigの生成: 電子署名を用いて支払い方法や宛先に応じたスクリプトを作りトランザクションに設定

#### sigunature hashの作成
signature hashはトランザクションの情報、インプットの情報、アウトプットの情報をシリアライズして生成したもの

## ロックタイム
### ロックタイムの使用例
共同資金の安全な運営  




































