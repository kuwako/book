# Go言語によるWebアプリケーション開発
## 1: WebSocketを使ったチャットアプリケーション
- Goのテンプレートはtext/template or html/template
- 処理を一回だけやる場合 sync.Once が便利
- 並行プログラミングで使われるGoのイディオム: select文
    - 共有されているメモリに対して同期化や変更がいくつか必要な任意の箇所で利用できる
    - 茶なるに送信された値に応じて異なる操作を行うということも可能
- TDD
    - red-greenの原則に従うのは面倒なことに感じるかもしれないが、一度にたくさんのコードを書かないことが大切
    - go test -cover で常にカバレッジを出力できる

## 2: 認証機能の追加
- Decoratorパターンに基づいてhttp.Handler型をラップし、機能追加する
- 動的なパスでHTTPのエンドポイントを提供する
- Gomniauthを使って認証をする
- Websocket上でjsonの受け渡しをする
- objx: Cookieに入れる情報をBase64形式で扱うことをサポートするパッケージ

## 3: プロフィール画像を追加する3つの方法
- インターフェースを設計する際にコードの読みやすさは重要なので、ヘルパーとして機能する定数を使うことは重要
- 新しい概念を表現する際に標準ライブラリのインターフェイスを使うと他の多くの箇所でも使えるし、理解もしやすいのでとても良い
- インターフェースを使う際に、型の埋込(type embeding)を利用すると便利
- こまめにコンパイルし、ついでにgolintやgo vetを使う

## 4: ドメイン名を検索するコマンドラインツール
- 文字列に対してrangeを実行するとそれぞれの文字の位置を表すインデックスの値と、文字を数値として表したrune型の値の2つが返される
- 単体でも使える汎用的なモジュールを作ることを意識する

## 5: 分散システムと柔軟なデータの処理
- NSQを使ってメッセージをキューイングする
- シグナルのチャンネルを使う際にstruct{}型を使うとメモリを全く消費せずにシグナルを送れる
  - booleanでは1バイト消費する
- シグナルチャネルではバッファのサイズを１にしてチャネルに書き込まれたら読み出されるまでロックすることができるようにする
- Ctrl+CはtermChanで補足できる

# 6: REST形式でデータや機能を公開する
